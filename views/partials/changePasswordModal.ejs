<div class="modal-dialog modal-dialog-centered">
  <div class="modal-content px-4">
    <div class="modal-body">
      <h5 class="modal-title text-center text-light mb-3">Change Password</h5>
      <%- include('./messages') -%>
      <form
        class="mx-5 mx-md-0"
        id="loginForm"
        action="/users/changePassword"
        method="post"
      >
        <div class="form-floating mb-4">
          <input
            type="password"
            class="form-control"
            id="password"
            name="password"
            placeholder="name@example.com"
          />
          <label for="password" class="text-light">Password</label>
        </div>

        <div class="form-floating mb-4">
          <input
            type="password"
            class="form-control"
            id="confirmPassword"
            name="confirmPassword"
            placeholder="name@example.com"
          />
          <label for="confirmPassword" class="text-light"
            >Confirm Password</label
          >
        </div>

        <input
          type="hidden"
          id="email"
          name="email"
          value="<%= typeof email !== 'undefined' ? email : '' %>"
        />
        <div class="text-center">
          <button
            type="submit"
            class="btn btn-primary mb-2 w-100"
            data-bs-toggle="modal"
            data-bs-target="#loginModal"
          >
            Continue
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<% if (typeof showModal !== 'undefined' && showModal === 'changePasswordModal')
{ %>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    var changePasswordModal = new bootstrap.Modal(
      document.getElementById("changePasswordModal")
    );
    changePasswordModal.show();
  });
</script>
<% } %>
